{"ast":null,"code":"var _jsxFileName = \"/Users/yudaihamashima/programing/Projects/3_money-management/src/components/templates/createPaymentTemplate.tsx\",\n    _s = $RefreshSig$();\n\nimport { useRecoilValue } from 'recoil';\nimport { Grid, Paper } from '@mui/material'; //表示データ（お支払いデータ）・月、日ごと抜粋\n\nimport { paymentState } from '../../recoil/atoms';\nimport CrudUnitTable from '../organisms/crudUnitTable'; //スライドショー\n\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport \"swiper/css/navigation\";\n//カレンダー（FullCalendar）\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreatePaymentsTemplate() {\n  _s();\n\n  const payments = useRecoilValue(paymentState); //choose payment by month\n\n  const PaymentsByMonth = (year, month) => {\n    const pickedPayments = payments.filter(payment => year === new Date(payment.date).getFullYear() && month === new Date(payment.date).getMonth() + 1);\n    return pickedPayments;\n  };\n\n  console.log(PaymentsByMonth(2022, 7)); //input calender event\n\n  const PaymentBars = (year, month) => {\n    const paymentBars = [];\n\n    const monthlyDays = (year, month) => {\n      const dayNum = month => {\n        if ([1, 3, 5, 7, 8, 10, 12].some(monthHas31day => monthHas31day === month)) {\n          return 31;\n        } else {\n          return 30;\n        }\n      };\n\n      const days = [...Array(dayNum(month))].map((_, index) => {\n        if (month < 10) {\n          if (index < 9) {\n            return year + \"-0\" + month + \"-0\" + (index + 1);\n          }\n\n          if (index >= 9) {\n            return year + \"-0\" + month + \"-\" + (index + 1);\n          }\n        }\n\n        if (month >= 10) {\n          if (index < 9) {\n            return year + \"-\" + month + \"-0\" + (index + 1);\n          }\n\n          if (index >= 9) {\n            return year + \"-\" + month + \"-\" + (index + 1);\n          }\n        }\n      });\n      return days;\n    };\n\n    monthlyDays(year, month).map(day => {\n      const paymentsOfDay = payments.filter(payment => payment.date === day);\n      paymentsOfDay.map(paymentOfDay => {\n        if (paymentOfDay !== null && paymentOfDay !== undefined) {\n          paymentBars.push({\n            title: paymentOfDay.cost.toString() + '円',\n            start: paymentOfDay.date\n          });\n        }\n      });\n    });\n    return paymentBars;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u65B0\\u898F\\u4F5C\\u6210\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            padding: \"20px\",\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n            plugins: [dayGridPlugin, timeGridPlugin],\n            initialView: \"dayGridMonth\",\n            events: PaymentBars(2022, 7)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          children: /*#__PURE__*/_jsxDEV(CrudUnitTable, {\n            data: PaymentsByMonth(2022, 7),\n            columnNames: ['金額', '名前', '項目', '支払い方法', '支払日']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreatePaymentsTemplate, \"Y8ZHXiROVM6gbKTcyixFa/SA2vo=\", false, function () {\n  return [useRecoilValue];\n});\n\n_c = CreatePaymentsTemplate;\nexport default CreatePaymentsTemplate;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePaymentsTemplate\");","map":{"version":3,"names":["useRecoilValue","Grid","Paper","paymentState","CrudUnitTable","FullCalendar","dayGridPlugin","timeGridPlugin","CreatePaymentsTemplate","payments","PaymentsByMonth","year","month","pickedPayments","filter","payment","Date","date","getFullYear","getMonth","console","log","PaymentBars","paymentBars","monthlyDays","dayNum","some","monthHas31day","days","Array","map","_","index","day","paymentsOfDay","paymentOfDay","undefined","push","title","cost","toString","start","padding","margin"],"sources":["/Users/yudaihamashima/programing/Projects/3_money-management/src/components/templates/createPaymentTemplate.tsx"],"sourcesContent":["import { useRecoilValue } from 'recoil'\nimport { Grid, Paper } from '@mui/material'\n \n//表示データ（お支払いデータ）・月、日ごと抜粋\nimport { paymentState } from '../../recoil/atoms'\nimport CrudUnitTable from '../organisms/crudUnitTable'\n\n//スライドショー\nimport 'swiper/css'\nimport 'swiper/css/pagination'\nimport \"swiper/css/navigation\"\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport { Pagination, Navigation } from 'swiper'\n\n//カレンダー（FullCalendar）\nimport FullCalendar from '@fullcalendar/react'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport timeGridPlugin from '@fullcalendar/timegrid';\n\n\nfunction CreatePaymentsTemplate () {\n    const payments = useRecoilValue(paymentState)\n\n    //choose payment by month\n    const PaymentsByMonth = (year: number, month: number) => {\n        const pickedPayments = payments.filter((payment) => \n            year === (new Date(payment.date)).getFullYear() && month === (new Date(payment.date)).getMonth()+1\n        )\n        return pickedPayments\n    }\n    console.log(PaymentsByMonth(2022,7))\n\n    //input calender event\n    const PaymentBars = (year: number, month: number) => {\n        interface PaymentBar {\n            title: string\n            start: string\n        }\n        const paymentBars = [] as PaymentBar[] \n        const monthlyDays = (year: number, month: number) => { \n            const dayNum = (month: number) => {\n                if([1,3,5,7,8,10,12].some(monthHas31day => monthHas31day === month)) {\n                    return 31\n                } else {\n                    return 30\n                }\n            }\n            const days = [...Array(dayNum(month))].map((_, index: number) => {\n                if (month < 10) {\n                    if (index < 9) { return year + \"-0\" + month + \"-0\" + (index+1) }\n                    if (index >= 9) { return year + \"-0\" + month + \"-\" + (index+1) }\n                }\n                if (month >= 10) {\n                    if (index < 9) { return year + \"-\" + month + \"-0\" + (index+1) }\n                    if (index >= 9) { return year + \"-\" + month + \"-\" + (index+1) }\n                }\n            })\n            return days\n        }\n        monthlyDays(year,month).map((day) => {\n            const paymentsOfDay = payments.filter(payment => payment.date === day)\n            paymentsOfDay.map((paymentOfDay) => {\n                if(paymentOfDay !== null && paymentOfDay !== undefined) {\n                    paymentBars.push({\n                        title: paymentOfDay.cost.toString()+'円',\n                        start: paymentOfDay.date\n                    })\n                }\n            })\n        })\n        return paymentBars\n    }\n\n    return(\n    <div>\n        <h1>新規作成</h1>\n        <Grid container spacing={2}>\n            <Grid item xs={6}>\n                <Paper style={{padding: \"20px\", margin: \"10px\"}}>\n                    <FullCalendar\n                        plugins={[dayGridPlugin, timeGridPlugin]}\n                        initialView=\"dayGridMonth\"\n                        events={PaymentBars(2022, 7)}\n                    />\n                </Paper>\n            </Grid>\n            <Grid item xs={6}>\n                <Paper>\n                    <CrudUnitTable\n                        data={PaymentsByMonth(2022,7)}\n                        columnNames={[ '金額', '名前', '項目', '支払い方法', '支払日', ]}\n                    />\n                </Paper>\n            </Grid>\n        </Grid>\n    </div>\n    )\n}\n\nexport default CreatePaymentsTemplate"],"mappings":"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"},"metadata":{},"sourceType":"module"}